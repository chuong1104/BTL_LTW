<!DOCTYPE html>
<html lang="en">
  <head>
    <title>JanyPet - Đặt lịch dịch vụ thú cưng</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="author" content="JanyPet">
    <meta name="keywords" content="thú cưng, pet shop, dịch vụ thú cưng, đặt lịch, spa thú cưng">
    <meta name="description" content="JanyPet - Đặt lịch dịch vụ chăm sóc thú cưng uy tín, chất lượng hàng đầu Việt Nam">
    
    <!-- Favicon -->
    <link rel="icon" href="images/favicon.ico">
    
    <!-- CSS Libraries -->
    <link rel="stylesheet" type="text/css" href="css/normalize.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
    <link rel="stylesheet" type="text/css" href="css/vendor.css" />
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&family=Open+Sans:wght@400;500&family=Montserrat:wght@300;400&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <link rel="stylesheet" type="text/css" href="css/custom-responsive.css" />

    <!-- Iconify -->
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>

    <style>
      .service-card {
        cursor: pointer;
        transition: all 0.3s ease;
        border: 2px solid transparent;
      }

      .service-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
      }

      .service-card.selected {
        border-color: #28a745;
        background-color: rgba(40, 167, 69, 0.05);
      }

      .pet-card {
        transition: all 0.3s ease;
        cursor: pointer;
        border: 2px solid transparent;
      }

      .pet-card:hover {
        border-color: #dee2e6;
        transform: translateY(-5px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
      }

      .pet-card.selected {
        border-color: #0d6efd;
        background-color: rgba(13, 110, 253, 0.05);
      }

      .edit-pet-btn {
        opacity: 0.6;
        transition: opacity 0.2s ease;
      }

      .pet-card:hover .edit-pet-btn {
        opacity: 1;
      }

      .pet-icon {
        width: 40px;
        height: 40px;
        text-align: center;
        line-height: 40px;
        border-radius: 50%;
        background-color: rgba(13, 110, 253, 0.1);
      }

      .step-number {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background-color: #f8f9fa;
        margin-right: 10px;
        font-weight: bold;
      }

      .nav-link.active .step-number {
        background-color: #fff;
        color: #0d6efd;
      }

      .bg-light-primary {
        background-color: #e9f2fd;
      }
    </style>
  </head>
  <body>

  <header class="auto-hide-header">
  <div class="container py-2">
    <div class="row py-3 align-items-center">
      <!-- Logo -->
      <div class="col-lg-3 col-md-4 col-sm-6 text-center text-sm-start">
        <div class="main-logo">
          <a href="index.html">
            <img src="images/logo.png" alt="JanyPet" class="img-fluid" style="max-height: 60px;">
          </a>
        </div>
      </div>

      <!-- Search bar - visible on large screens -->
      <div class="col-lg-5 d-none d-lg-block">
        <div class="search-bar border rounded-pill px-3 border-primary-subtle">
          <form id="search-form" class="text-center d-flex align-items-center" action="" method="">
            <input type="text" class="form-control border-0 bg-transparent py-2"
              placeholder="Tìm kiếm thú cưng, sản phẩm và dịch vụ..." />
            <button type="submit" class="btn btn-link p-0 text-primary">
              <i class="fas fa-search"></i>
            </button>
          </form>
        </div>
      </div>

      <!-- Auth and user actions -->
      <div class="col-lg-4 col-md-8 col-sm-6 d-flex justify-content-end align-items-center">
        <div class="auth-container ms-auto">
          <!-- Login/Register buttons -->
          <div class="auth-buttons">
            <a href="login.html" class="btn btn-outline-primary rounded-pill">
              <i class="fas fa-sign-in-alt me-1"></i> Đăng nhập/Đăng ký
            </a>
          </div>

          <!-- User info when logged in -->
          <div class="user-info d-flex align-items-center">
            <span class="me-2">Xin chào, <strong id="userName">User</strong></span>
            <div class="d-flex">
              <button class="btn btn-outline-danger rounded-pill btn-sm logout-btn me-2">
                <i class="fas fa-sign-out-alt me-1"></i> Đăng xuất
              </button>
              <a href="admin.html" class="admin-link btn btn-outline-dark btn-sm rounded-pill">
                <i class="fas fa-cog me-1"></i> Quản trị
              </a>
            </div>
          </div>
        </div>

        <!-- Cart and wishlist icons -->
        <div class="ms-3 d-flex">
          <a href="wishlist.html" class="mx-2 position-relative text-dark">
            <i class="fas fa-heart fs-5"></i>
            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">0</span>
          </a>
          <a href="cart.html" class="mx-2 position-relative text-dark">
            <i class="fas fa-shopping-cart fs-5"></i>
            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-primary">0</span>
          </a>
        </div>
      </div>
    </div>
  </div>
  </header>

  <!-- Navigation menu -->
  <nav class="navbar navbar-expand-lg navbar-light bg-white border-top border-bottom">
    <div class="container">
      <!-- Mobile toggle button -->
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMain"
        aria-controls="navbarMain" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Search bar - visible on mobile only -->
      <div class="d-block d-lg-none ms-2 me-auto">
        <a href="#" data-bs-toggle="modal" data-bs-target="#searchModal" class="btn btn-outline-primary rounded-circle">
          <i class="fas fa-search"></i>
        </a>
      </div>

      <!-- Main navigation -->
      <div class="collapse navbar-collapse" id="navbarMain">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link" href="index.html">Trang chủ</a>
          </li>
          <!-- <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" 
               aria-expanded="false">Thú cưng</a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#">Chó cảnh</a></li>
              <li><a class="dropdown-item" href="#">Mèo cảnh</a></li>
              <li><a class="dropdown-item" href="#">Thú cưng khác</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="shop.html">Tất cả thú cưng</a></li>
            </ul>
          </li> -->
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
               aria-expanded="false">Sản phẩm</a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#">Thức ăn</a></li>
              <li><a class="dropdown-item" href="#">Phụ kiện</a></li>
              <li><a class="dropdown-item" href="#">Đồ chơi</a></li>
              <li><a class="dropdown-item" href="#">Quần áo thú cưng</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="shop.html">Tất cả sản phẩm</a></li>
            </ul>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle active fw-medium" href="#" role="button" data-bs-toggle="dropdown"
               aria-expanded="false">Dịch vụ</a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="service.html">Tất cả dịch vụ</a></li>
              <li><a class="dropdown-item active" href="BookingService.html">Đặt lịch</a></li>
            </ul>
          </li>
          <li class="nav-item">
            <a class="nav-link fw-medium" href="blog.html">Tin tức</a>
          </li>
          <li class="nav-item">
            <a class="nav-link fw-medium" href="contact.html">Liên hệ</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Search Modal for mobile -->
  <div class="modal fade" id="searchModal" tabindex="-1" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header border-0">
          <h5 class="modal-title" id="searchModalLabel">Tìm kiếm</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form>
            <div class="input-group">
              <input type="text" class="form-control" placeholder="Tìm kiếm sản phẩm...">
              <button class="btn btn-primary" type="button">
                <i class="fas fa-search"></i>
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

    <!-- Page Banner -->
    <section class="py-5 bg-light-primary">
      <div class="container">
        <div class="row">
          <div class="col-md-6">
            <h2 class="display-4 fw-normal">Pet Spa Services</h2>
            <p class="lead">
              Pamper your furry friend with our premium spa treatments
            </p>
            <nav aria-label="breadcrumb">
              <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                <li class="breadcrumb-item active" aria-current="page">
                  Book Services
                </li>
              </ol>
            </nav>
          </div>
          <div class="col-md-6 d-flex align-items-center justify-content-end">
            <img
              src="https://via.placeholder.com/400x200?text=Pet+Spa"
              alt="Pet Spa"
              class="img-fluid rounded"
            />
          </div>
        </div>
      </div>
    </section>

    <!-- Booking Section -->
    <section class="py-5">
      <div class="container">
        <div class="row">
          <div class="col-12 text-center mb-5">
            <h2 class="display-5">Book Your Pet's Spa Day</h2>
            <p class="lead">
              Choose from our range of premium services for your beloved pet
            </p>
          </div>
        </div>

        <!-- Booking Steps -->
        <div class="row mb-5">
          <div class="col-12">
            <div class="booking-steps">
              <ul
                class="nav nav-pills nav-justified mb-4 booking-steps-nav"
                id="bookingSteps"
                role="tablist"
              >
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link active"
                    id="step1-tab"
                    data-bs-toggle="pill"
                    data-bs-target="#step1"
                    type="button"
                    role="tab"
                    aria-controls="step1"
                    aria-selected="true"
                  >
                    <span class="step-number">1</span> Choose Service
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link"
                    id="step2-tab"
                    data-bs-toggle="pill"
                    data-bs-target="#step2"
                    type="button"
                    role="tab"
                    aria-controls="step2"
                    aria-selected="false"
                  >
                    <span class="step-number">2</span> Select Pet
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link"
                    id="step3-tab"
                    data-bs-toggle="pill"
                    data-bs-target="#step3"
                    type="button"
                    role="tab"
                    aria-controls="step3"
                    aria-selected="false"
                  >
                    <span class="step-number">3</span> Schedule
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link"
                    id="step4-tab"
                    data-bs-toggle="pill"
                    data-bs-target="#step4"
                    type="button"
                    role="tab"
                    aria-controls="step4"
                    aria-selected="false"
                  >
                    <span class="step-number">4</span> Confirm
                  </button>
                </li>
              </ul>

              <div
                class="tab-content p-4 bg-white rounded shadow-sm"
                id="bookingStepsContent"
              >
                <!-- Step 1: Select Services -->
                <div
                  class="tab-pane fade show active"
                  id="step1"
                  role="tabpanel"
                  aria-labelledby="step1-tab"
                >
                  <h3 class="mb-4 fw-bold">Select Service</h3>
                  <p class="text-muted mb-4">
                    Choose one or more services for your pet's spa day
                  </p>
                  <div class="row" id="services-container">
                    <!-- Services will be loaded dynamically -->
                    <div class="col-12 spinner-container">
                      <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Loading services...</span>
                      </div>
                      <p class="mt-3">Loading available services...</p>
                    </div>
                  </div>
                  <div class="d-flex justify-content-end mt-4">
                    <button
                      class="btn btn-primary next-step"
                      data-next="step2-tab"
                    >
                      Continue <i class="fas fa-arrow-right ms-1"></i>
                    </button>
                  </div>
                </div>

                <!-- Step 2: Choose Pet -->
                <div
                  class="tab-pane fade"
                  id="step2"
                  role="tabpanel"
                  aria-labelledby="step2-tab"
                >
                  <h3 class="mb-4 fw-bold">Select Your Pet</h3>
                  <p class="text-muted mb-4">
                    Choose a pet for this appointment or add a new one
                  </p>

                  <div class="d-flex justify-content-end mb-3">
                    <button
                      class="btn btn-outline-primary btn-sm"
                      id="refresh-pets-btn"
                    >
                      <i class="fas fa-sync me-1"></i> Refresh Pet List
                    </button>
                  </div>

                  <div class="row" id="pet-list">
                    <!-- Pets will be loaded dynamically -->
                    <div class="col-12 text-center py-4">
                      <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Loading pets...</span>
                      </div>
                      <p class="mt-3">Loading your pets...</p>
                    </div>
                  </div>

                  <div
                    class="mt-4 mb-3 p-3 bg-light rounded"
                    id="selected-pet-details"
                  >
                    <p class="text-muted mb-0">
                      Please select a pet to see details
                    </p>
                  </div>

                  <div class="d-flex justify-content-between mt-4">
                    <button
                      class="btn btn-outline-secondary prev-step"
                      data-prev="step1-tab"
                    >
                      <i class="fas fa-arrow-left me-1"></i> Back
                    </button>
                    <button class="btn btn-success" id="add-new-pet-btn">
                      <i class="fas fa-plus me-1"></i> Add New Pet
                    </button>
                    <button
                      class="btn btn-primary next-step"
                      data-next="step3-tab"
                    >
                      Continue <i class="fas fa-arrow-right ms-1"></i>
                    </button>
                  </div>
                </div>

                <!-- Step 3: Select Date & Time -->
                <div
                  class="tab-pane fade"
                  id="step3"
                  role="tabpanel"
                  aria-labelledby="step3-tab"
                >
                  <h3 class="mb-4 fw-bold">Choose Appointment Time</h3>
                  <p class="text-muted mb-4">
                    Select your preferred date and time for the appointment
                  </p>

                  <div class="row">
                    <div class="col-md-6 mb-4">
                      <label for="booking-date" class="form-label fw-medium"
                        >Select Date</label
                      >
                      <div class="input-group">
                        <span class="input-group-text"
                          ><i class="fas fa-calendar-alt"></i
                        ></span>
                        <input
                          type="date"
                          class="form-control"
                          id="booking-date"
                          required
                        />
                      </div>
                    </div>
                    <div class="col-md-6 mb-4">
                      <label for="booking-time" class="form-label fw-medium"
                        >Select Time</label
                      >
                      <div class="input-group">
                        <span class="input-group-text"
                          ><i class="fas fa-clock"></i
                        ></span>
                        <select class="form-select" id="booking-time" required>
                          <option value="" selected disabled>
                            Choose a time slot
                          </option>
                          <!-- Time slots will be loaded dynamically -->
                        </select>
                      </div>
                    </div>
                  </div>

                  <div class="mb-4">
                    <label for="booking-notes" class="form-label fw-medium"
                      >Special Instructions</label
                    >
                    <textarea
                      class="form-control"
                      id="booking-notes"
                      rows="3"
                      placeholder="Any special requirements or notes for your booking"
                    ></textarea>
                  </div>

                  <div class="d-flex justify-content-between mt-4">
                    <button
                      class="btn btn-outline-secondary prev-step"
                      data-prev="step2-tab"
                    >
                      <i class="fas fa-arrow-left me-1"></i> Back
                    </button>
                    <button
                      class="btn btn-primary next-step"
                      data-next="step4-tab"
                    >
                      Review Booking <i class="fas fa-arrow-right ms-1"></i>
                    </button>
                  </div>
                </div>

                <!-- Step 4: Confirm Booking -->
                <div
                  class="tab-pane fade"
                  id="step4"
                  role="tabpanel"
                  aria-labelledby="step4-tab"
                >
                  <h3 class="mb-4 fw-bold">Review and Confirm</h3>
                  <p class="text-muted mb-4">
                    Please review your booking details before confirming
                  </p>

                  <div class="card summary-card mb-4">
                    <div class="card-header">
                      <h5 class="mb-0 fw-bold">Booking Summary</h5>
                    </div>
                    <div class="card-body">
                      <div class="row mb-3">
                        <div class="col-md-4 fw-bold">Selected Services:</div>
                        <div class="col-md-8" id="summary-services"></div>
                      </div>
                      <div class="row mb-3">
                        <div class="col-md-4 fw-bold">Pet:</div>
                        <div class="col-md-8" id="summary-pet"></div>
                      </div>
                      <div class="row mb-3">
                        <div class="col-md-4 fw-bold">Date:</div>
                        <div class="col-md-8" id="summary-date"></div>
                      </div>
                      <div class="row mb-3">
                        <div class="col-md-4 fw-bold">Time:</div>
                        <div class="col-md-8" id="summary-time"></div>
                      </div>
                      <div class="row mb-3">
                        <div class="col-md-4 fw-bold">Notes:</div>
                        <div class="col-md-8" id="summary-notes"></div>
                      </div>
                      <div class="row">
                        <div class="col-md-4 fw-bold">Total:</div>
                        <div
                          class="col-md-8 fw-bold text-primary fs-5"
                          id="summary-total"
                        ></div>
                      </div>
                    </div>
                  </div>

                  <div class="form-check mb-4">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="terms-checkbox"
                    />
                    <label class="form-check-label" for="terms-checkbox">
                      I agree to the
                      <a
                        href="#"
                        data-bs-toggle="modal"
                        data-bs-target="#termsModal"
                        >terms and conditions</a
                      >
                    </label>
                  </div>

                  <div id="alert-container"></div>

                  <div class="d-flex justify-content-between mt-4">
                    <button
                      class="btn btn-outline-secondary prev-step"
                      data-prev="step3-tab"
                    >
                      <i class="fas fa-arrow-left me-1"></i> Back
                    </button>
                    <button class="btn btn-success" id="confirm-booking-btn">
                      <i class="fas fa-check me-1"></i> Confirm Booking
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- My Bookings Modal -->
    <div
      class="modal fade"
      id="myBookingsModal"
      tabindex="-1"
      aria-labelledby="myBookingsModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="myBookingsModalLabel">My Bookings</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div class="table-responsive">
              <table class="table table-hover">
                <thead>
                  <tr>
                    <th>Booking ID</th>
                    <th>Pet</th>
                    <th>Services</th>
                    <th>Date & Time</th>
                    <th>Status</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody id="bookings-table-body">
                  <!-- Bookings will be loaded here dynamically -->
                  <tr>
                    <td colspan="6" class="text-center">
                      Loading your bookings...
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Add New Pet Modal -->
    <div
      class="modal fade"
      id="addPetModal"
      tabindex="-1"
      aria-labelledby="addPetModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addPetModalLabel">Add New Pet</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form id="pet-form">
              <input type="hidden" id="pet-id-hidden" name="pet-id" />
              <div class="mb-3">
                <label for="pet-name" class="form-label">Pet Name*</label>
                <input
                  type="text"
                  class="form-control"
                  id="pet-name"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="pet-species" class="form-label">Species*</label>
                <select class="form-select" id="pet-species" required>
                  <option value="" selected disabled>Select species</option>
                  <option value="Dog">Dog</option>
                  <option value="Cat">Cat</option>
                  <option value="Bird">Bird</option>
                  <option value="Other">Other</option>
                </select>
              </div>
              <div class="mb-3">
                <label for="pet-breed" class="form-label">Breed</label>
                <input type="text" class="form-control" id="pet-breed" />
              </div>
              <div class="mb-3">
                <label for="pet-birthdate" class="form-label">Birth Date</label>
                <input type="date" class="form-control" id="pet-birthdate" />
              </div>
              <div class="mb-3">
                <label for="pet-gender" class="form-label">Gender</label>
                <select class="form-select" id="pet-gender">
                  <option value="" selected disabled>Select gender</option>
                  <option value="Male">Male</option>
                  <option value="Female">Female</option>
                </select>
              </div>
              <div class="mb-3">
                <label for="pet-weight" class="form-label">Weight (kg)</label>
                <input
                  type="number"
                  step="0.1"
                  class="form-control"
                  id="pet-weight"
                />
              </div>
              <div class="form-check mb-3">
                <input
                  class="form-check-input"
                  type="checkbox"
                  id="pet-vaccinated"
                />
                <label class="form-check-label" for="pet-vaccinated"
                  >Vaccinated</label
                >
              </div>
              <div class="mb-3">
                <label for="pet-notes" class="form-label">Health Notes</label>
                <textarea
                  class="form-control"
                  id="pet-notes"
                  rows="3"
                ></textarea>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Cancel
            </button>
            <button type="button" class="btn btn-primary" id="save-pet-btn">
              Save Pet
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Terms and Conditions Modal -->
    <div
      class="modal fade"
      id="termsModal"
      tabindex="-1"
      aria-labelledby="termsModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="termsModalLabel">
              Terms and Conditions
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <h6>Pet Spa Booking Terms</h6>
            <p>
              By booking a service with our Pet Spa, you agree to the following
              terms:
            </p>
            <ol>
              <li>
                Appointments must be canceled at least 24 hours in advance to
                avoid cancellation fees.
              </li>
              <li>
                Pets must be up-to-date on vaccinations for services that
                require it.
              </li>
              <li>
                We reserve the right to refuse service to pets that show signs
                of aggression or illness.
              </li>
              <li>Payment is due at the time of service.</li>
              <li>
                Please arrive 10 minutes before your scheduled appointment time.
              </li>
            </ol>
            <h6>Privacy Policy</h6>
            <p>
              We collect personal information to provide and improve our
              services. Your data is protected and will not be shared with third
              parties except as required by law.
            </p>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-primary"
              data-bs-dismiss="modal"
            >
              I Understand
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Success Booking Detail Modal -->
    <div
      class="modal fade"
      id="bookingDetailModal"
      tabindex="-1"
      aria-labelledby="bookingDetailModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header bg-success text-white py-3">
            <h5 class="modal-title" id="bookingDetailModalLabel">
              Booking Successful!
            </h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body py-4">
            <div class="row align-items-center mb-3">
              <div class="col-md-3 text-center">
                <div class="bg-light rounded-circle p-3 d-inline-block">
                  <iconify-icon
                    icon="mdi:check-circle"
                    class="success-icon"
                  ></iconify-icon>
                </div>
              </div>
              <div class="col-md-9">
                <h4 class="mb-2 fw-bold">Thank you for your booking!</h4>
                <p class="mb-0 lead">
                  Your appointment has been successfully scheduled.
                </p>
              </div>
            </div>

            <div class="alert alert-info mb-4">
              <strong>Booking ID:</strong>
              <span id="bd-booking-id" class="fw-bold"></span>
            </div>

            <h5 class="fw-bold mb-3">Booking Details</h5>
            <div class="table-responsive booking-details-table">
              <table class="table table-borderless align-middle">
                <tbody>
                  <tr>
                    <th scope="row" width="30%">
                      <i class="fas fa-user me-2"></i> Customer
                    </th>
                    <td id="bd-customer"></td>
                  </tr>
                  <tr>
                    <th scope="row">
                      <i class="fas fa-envelope me-2"></i> Email
                    </th>
                    <td id="bd-email"></td>
                  </tr>
                  <tr>
                    <th scope="row"><i class="fas fa-phone me-2"></i> Phone</th>
                    <td id="bd-phone"></td>
                  </tr>
                  <tr>
                    <th scope="row">
                      <i class="fas fa-map-marker-alt me-2"></i> Address
                    </th>
                    <td id="bd-address"></td>
                  </tr>
                  <tr>
                    <th scope="row"><i class="fas fa-paw me-2"></i> Pet</th>
                    <td id="bd-pet"></td>
                  </tr>
                  <tr>
                    <th scope="row">
                      <i class="fas fa-concierge-bell me-2"></i> Service
                    </th>
                    <td id="bd-service"></td>
                  </tr>
                  <tr>
                    <th scope="row">
                      <i class="fas fa-calendar-alt me-2"></i> Date
                    </th>
                    <td id="bd-date"></td>
                  </tr>
                  <tr>
                    <th scope="row"><i class="fas fa-clock me-2"></i> Time</th>
                    <td id="bd-time"></td>
                  </tr>
                  <tr>
                    <th scope="row">
                      <i class="fas fa-clipboard-list me-2"></i> Notes
                    </th>
                    <td id="bd-notes"></td>
                  </tr>
                  <tr>
                    <th scope="row">
                      <i class="fas fa-info-circle me-2"></i> Status
                    </th>
                    <td id="bd-status"></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-outline-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
            <button type="button" class="btn btn-primary" id="go-to-bookings">
              <i class="fas fa-history me-1"></i> View Booking History
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer id="footer" class="bg-light pt-5 mt-5">
      <div class="container py-5">
        <div class="row g-4">
          <!-- About Company -->
          <div class="col-lg-3 col-md-6">
            <div class="footer-about">
              <img src="images/logo.png" alt="JanyPet" class="img-fluid mb-4" style="max-height: 60px;">
              <p class="mb-4">JanyPet - Cửa hàng thú cưng và dịch vụ chăm sóc uy tín, chất lượng hàng đầu Việt Nam.</p>
              <div class="social-links">
                <div class="d-flex gap-3">
                  <a href="#" class="social-link" aria-label="Facebook">
                  </a>
                  <a href="#" class="social-link" aria-label="Instagram">
                  </a>
                  <a href="#" class="social-link" aria-label="Twitter">
                  </a>
                  <a href="#" class="social-link" aria-label="Youtube">
                  </a>
                </div>
              </div>
            </div>
          </div>
    
          <!-- Quick Links -->
          <div class="col-lg-3 col-md-6">
            <div class="footer-menu">
              <h4 class="mb-4">Liên kết nhanh</h4>
              <ul class="list-unstyled">
                <li class="mb-2"><a href="index.html" class="footer-link"><i class="fas fa-angle-right me-2"></i>Trang chủ</a></li>
                <li class="mb-2"><a href="about.html" class="footer-link"><i class="fas fa-angle-right me-2"></i>Giới thiệu</a></li>
                <li class="mb-2"><a href="shop.html" class="footer-link"><i class="fas fa-angle-right me-2"></i>Sản phẩm</a></li>
                <li class="mb-2"><a href="service.html" class="footer-link"><i class="fas fa-angle-right me-2"></i>Dịch vụ</a></li>
                <li class="mb-2"><a href="blog.html" class="footer-link"><i class="fas fa-angle-right me-2"></i>Tin tức</a></li>
                <li class="mb-2"><a href="contact.html" class="footer-link"><i class="fas fa-angle-right me-2"></i>Liên hệ</a></li>
              </ul>
            </div>
          </div>
    
          <!-- Contact Info -->
          <div class="col-lg-3 col-md-6">
            <div class="footer-contact">
              <h4 class="mb-4">Thông tin liên hệ</h4>
              <p class="mb-3"><i class="fas fa-map-marker-alt me-3"></i>123 Đường ABC, Quận XYZ, Hà Nội</p>
              <p class="mb-3"><i class="fas fa-phone-alt me-3"></i>+84 123 456 789</p>
              <p class="mb-3"><i class="fas fa-envelope me-3"></i>info@janypet.com</p>
              <p class="mb-3"><i class="fas fa-clock me-3"></i>Thứ 2 - Chủ nhật: 8:00 - 20:00</p>
            </div>
          </div>
    
          <!-- Newsletter -->
          <div class="col-lg-3 col-md-6">
            <div>
              <h4 class="mb-4">Nhận thông tin</h4>
              <p>Đăng ký nhận thông tin khuyến mãi và cập nhật mới nhất từ JanyPet.</p>
              <div class="input-group mb-3">
                <input type="email" class="form-control rounded-start-pill" placeholder="Email của bạn">
                <button class="btn btn-primary rounded-end-pill" type="button">Đăng ký</button>
              </div>
              <div class="mt-4">
                <img src="images/payment-methods.png" alt="Payment Methods" class="img-fluid">
              </div>
            </div>
          </div>
        </div>
      </div>
    
      <div class="py-3 border-top">
        <div class="container">
          <div class="row">
            <div class="col-md-6 text-center text-md-start">
              <p class="mb-0">&copy; 2025 JanyPet. Tất cả quyền được bảo lưu.</p>
            </div>
            <div class="col-md-6 text-center text-md-end">
              <a href="#" class="text-decoration-none me-3">Điều khoản sử dụng</a>
              <a href="#" class="text-decoration-none">Chính sách bảo mật</a>
            </div>
          </div>
        </div>
      </div>
    </footer>
    
    <!-- Back to Top Button -->
    <a href="#" id="back-to-top" class="btn btn-lg rounded-circle position-fixed" aria-label="Back to top">
      <i class="fas fa-arrow-up"></i>
    </a>
    
    <!-- Toast container for notifications -->
    <div id="toast-container" class="position-fixed bottom-0 end-0 p-3" style="z-index: 1050;"></div>
    
    <!-- Offcanvas Cart -->
    <div class="offcanvas offcanvas-end" data-bs-scroll="true" tabindex="-1" id="offcanvasCart" aria-labelledby="Giỏ hàng của tôi">
      <div class="offcanvas-header justify-content-between align-items-center">
        <h5 class="offcanvas-title">Giỏ hàng của bạn</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Đóng"></button>
      </div>
      <div class="offcanvas-body">
        <div class="order-md-last">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <span class="text-primary fw-bold">Sản phẩm của bạn</span>
            <span class="badge bg-primary rounded-pill pt-2" id="cart-count-badge">0</span>
          </div>
          <ul id="offcanvas-cart-list" class="list-group mb-3">
            <!-- Cart items will be loaded here by JavaScript -->
            <li class="list-group-item py-3 text-center">Giỏ hàng của bạn đang trống</li>
          </ul>
          <li class="list-group-item d-flex justify-content-between">
            <span class="fw-bold">Tổng cộng</span>
            <strong id="offcanvas-cart-total">0đ</strong>
          </li>

          <div class="d-grid gap-2 mt-3">
            <a href="cart.html" class="btn btn-primary btn-lg">Xem giỏ hàng</a>
            <a href="checkout.html" class="btn btn-dark btn-lg">Thanh toán</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Font Awesome -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>
    <!-- API and Auth Services -->
    <script src="js/api-service.js"></script>
    <script src="js/auth_service.js"></script>
    <!-- Cart functionality -->
    <script src="js/cart.js"></script>
    <!-- Custom JS -->
    <script src="js/service.js"></script>
    <script>
      // Show booking detail modal after successful booking
      function showBookingDetailModal(booking) {
        // Set all values in the modal
        document.getElementById('bd-customer').textContent = booking.user.username || 'N/A';
        document.getElementById('bd-email').textContent = booking.user.email || 'N/A';
        document.getElementById('bd-phone').textContent = booking.user.phoneNumber || 'N/A';
        document.getElementById('bd-address').textContent = booking.user.address || 'N/A';
        document.getElementById('bd-pet').textContent = booking.pet.name + (booking.pet.breed ? ` (${booking.pet.breed})` : '');
        document.getElementById('bd-service').textContent = booking.services.map(s => s.name).join(', ');
        
        // Format date in a more readable form
        try {
          const formattedDate = new Date(booking.bookingDate).toLocaleDateString('en-US', {
            weekday: 'long', 
            year: 'numeric', 
            month: 'long', 
            day: 'numeric'
          });
          document.getElementById('bd-date').textContent = formattedDate;
        } catch (e) {
          document.getElementById('bd-date').textContent = booking.bookingDate || 'N/A';
        }
        
        // Format time if available
        document.getElementById('bd-time').textContent = booking.startTime || 'N/A';
        document.getElementById('bd-notes').textContent = booking.notes || 'No special instructions';
        
        // Create status badge with appropriate color
        let statusHTML = '';
        if (booking.status === 'PENDING') {
          statusHTML = '<span class="badge bg-warning text-dark">Chờ xác nhận</span>';
        } else if (booking.status === 'CONFIRMED') {
          statusHTML = '<span class="badge bg-success">Xác nhận</span>';
        } else if (booking.status === 'CANCELLED') {
          statusHTML = '<span class="badge bg-danger">Đã hủy</span>';
        } else if (booking.status === 'COMPLETED') {
          statusHTML = '<span class="badge bg-info">Hoàn thành</span>';
        } else {
          statusHTML = `<span class="badge bg-secondary">${booking.status || 'Unknown'}</span>`;
        }
        document.getElementById('bd-status').innerHTML = statusHTML;
        
        // Set the booking ID
        document.getElementById('bd-booking-id').textContent = booking.id;
        
        // Show the modal with animation
        const modal = new bootstrap.Modal(document.getElementById('bookingDetailModal'));
        modal.show();
        
        // Hide the booking steps to clean up the UI
        document.querySelector('.booking-steps').style.display = 'none';
        
        // Add event listener to "View Booking History" button
        document.getElementById('go-to-bookings').addEventListener('click', function() {
          const myBookingsModal = new bootstrap.Modal(document.getElementById('myBookingsModal'));
          modal.hide();
          setTimeout(() => {
            myBookingsModal.show();
          }, 500);
        });
      }
    
      // Attach event handler for the next/prev step buttons
      document.addEventListener('DOMContentLoaded', function() {
        const nextStepButtons = document.querySelectorAll('.next-step');
        const prevStepButtons = document.querySelectorAll('.prev-step');
        
        nextStepButtons.forEach(button => {
          button.addEventListener('click', function() {
            const nextTabId = this.getAttribute('data-next');
            const nextTab = document.getElementById(nextTabId);
            bootstrap.Tab.getInstance(nextTab).show();
          });
        });
        
        prevStepButtons.forEach(button => {
          button.addEventListener('click', function() {
            const prevTabId = this.getAttribute('data-prev');
            const prevTab = document.getElementById(prevTabId);
            bootstrap.Tab.getInstance(prevTab).show();
          });
        });
      });
    </script>
  </body>
</html>
